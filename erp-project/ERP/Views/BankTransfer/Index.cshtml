@model IEnumerable<ERP.Models.BankTransfer>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@{
    ViewBag.Title = "Index";
    ERP.Models.ModelERP db = new ERP.Models.ModelERP();


}

<p style="padding-left:5px; padding-top:5px;">
    @Html.ActionLink("Create New", "Create",
          null, new { @style = "color:#ffffff;", id = "lnkCreate", @class = "btn btn-success" })
</p>
<div class="panel panel-primary panel-bordered">
    <div class="panel-heading">
        <h5 class="panel-title">Bank Transfer List</h5>
    </div>
    <div class="panel-body">
        <table class="table datatable-show-all table-hover table-xs">
            <thead>
                <tr>
                    <th>Company From</th>
                    <th>Bank From</th>
                    <th>Account From</th>
                    <th>Company To</th>
                    <th>Bank To</th>
                    <th>Account To</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @{
                                var CompanyFrom = db.Company.SingleOrDefault(x => x.Id == item.FromCompanyId).Name;
                            }
                            <label>@CompanyFrom</label>
                        </td>

                        <td>
                            @{
                                var bankFrom = db.Bank.SingleOrDefault(x => x.Id == item.FromCompanyBankId).Name;
                            }
                            <label>@bankFrom</label>
                        </td>

                        <td>
                            @{
                                var accountFrom = db.CompanyBank.SingleOrDefault(x => x.AccountNo == item.FromBankAccount.ToString()).AccountName;
                            }
                            <label>@accountFrom</label>
                        </td>

                        <td>
                            @{
                                var CompanyTo = db.Company.SingleOrDefault(x => x.Id == item.ToCompanyId).Name;
                            }
                            <label>@CompanyTo</label>
                        </td>

                        <td>
                            @{
                                var bankTo = db.Bank.SingleOrDefault(x => x.Id == item.ToCompanyBankId).Name;
                            }
                            <label>@bankTo</label>
                        </td>

                        <td>
                            @{
                                var accountTo = db.CompanyBank.SingleOrDefault(x => x.AccountNo == item.ToBankAccount.ToString()).AccountName;
                            }
                            <label>@accountTo</label>
                        </td>

                        <td>@Html.DisplayFor(modelItem => item.amount)</td>

                        <td>@Html.DisplayFor(modelItem => item.Date)</td>

                        <td>
                            <ul class="icons-list">
                                <li class="text-info"><a href="@Url.Action("Edit", new { id = item.Id } )" data-popup="tooltip" title="Edit"><i class="icon-pencil7"></i></a></li>
                                <li>|</li>
                                @*<li class="text-info"><a href="@Url.Action("Details", new { id = item.Id } )" data-popup="tooltip" title="Details"><i class="icon-file-text2"></i></a></li>
                                <li>|</li>*@
                                <li class="text-danger"><a href="@Url.Action("Delete", new { id = item.Id } )" data-popup="tooltip" title="Delete"><i class="icon-cross2"></i></a></li>
                            </ul>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
@section Scripts {
    <script type="text/javascript" src="~/Scripts/plugins/forms/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="~/Scripts/datatables_advanced.js"></script>
}








@*@model IEnumerable<ERP.Models.BankTransfer>

    @{
        ViewBag.Title = "Index";
    }

    <h2>Index</h2>

    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.FromCompanyId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FromCompanyBankId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FromBankAccount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.amount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ToCompanyId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ToCompanyBankId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ToBankAccount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Date)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FromCompanyId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FromCompanyBankId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FromBankAccount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.amount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToCompanyId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToCompanyBankId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToBankAccount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </td>
            </tr>
        }

    </table>*@
